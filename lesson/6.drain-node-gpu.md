## 노드 배제 ##

아래 내용은 slurm 에서 특정 노드를 배제하는 방법에 대한 내용이다. slinky 에서는 어떻게 설정하는지는 확인이 필요하다. 

#### 1. 사용자: 특정 노드 제외하고 제출 (--exclude) ####
작업 제출 시 --exclude (또는 -x) 옵션을 사용하면 특정 노드를 스케줄링에서 완전히 뺄 수 있습니다.
```
# gpu-node05 노드만 쏙 빼고 작업 제출
sbatch --exclude=gpu-node05 submit.sh
srun --exclude=gpu-node01,gpu-node02 --gres=gpu:1 python train.py
```

#### 2. 관리자: 노드 상태를 'Drain'으로 변경 ####
노드에 문제가 있어 아무도 쓰지 못하게 격리해야 할 때 사용합니다. 기존 작업은 유지되거나 종료될 때까지 기다리지만, 새 작업은 절대 할당되지 않습니다.
```
# 특정 노드를 예약 리스트에서 제외
sudo scontrol update NodeName=gpu-node05 State=DRAIN Reason="GPU hardware issue"
```
복구시는 State=RESUME 으로 복구한다.

#### 3. 영구 제외 (slurm.conf 수정) ####
* /etc/slurm/slurm.conf 파일에서 해당 NodeName=... 줄을 주석 처리(법#)하거나 삭제합니다.
* Partition 설정에서도 해당 노드 이름을 제거합니다.
* sudo scontrol reconfigure 명령어로 설정을 갱신합니다


## GPU 배제 ##
